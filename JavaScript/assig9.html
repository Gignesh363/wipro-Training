<!DOCTYPE html>
<html>
<head>
    <title>Income Tax Calculator (Multiple Callbacks)</title>
</head>
<body>
    <h2>Income Tax Calculator (Multiple Callbacks)</h2>

    <label>Name:</label>
    <input type="text" id="name"><br><br>

    <label>PAN:</label>
    <input type="text" id="pan"><br><br>

    <label>Annual Income (₹):</label>
    <input type="number" id="income"><br><br>

    <button onclick="processTax()">Calculate Tax</button>

    <h3>Result:</h3>
    <div id="result"></div>

    <script>
      
        let taxRecords = [];


        function calculateTax(name, pan, income, callback) {
            let tax = 0;
            if (income <= 250000) {
                tax = 0;
            } else if (income <= 500000) {
                tax = income * 0.05;
            } else if (income <= 1000000) {
                tax = income * 0.20;
            } else {
                tax = income * 0.30;
            }
            callback(name, pan, income, Math.round(tax));
        }

  
        function logToConsole(name, pan, income, tax) {
            console.log(`Name: ${name}`);
            console.log(`PAN: ${pan}`);
            console.log(`Annual Income: ₹ ${income}`);
            console.log(`Calculated Tax: ₹ ${tax}`);
        }

    
        function displayOnPage(name, pan, income, tax) {
            document.getElementById("result").innerHTML = `
                <b>Name:</b> ${name} <br>
                <b>PAN:</b> ${pan} <br>
                <b>Annual Income:</b> ₹ ${income} <br>
                <b>Calculated Tax:</b> ₹ ${tax}
            `;
        }


        function saveToRecords(name, pan, income, tax) {
            taxRecords.push({ name, pan, income, tax });
            console.log("Current Tax Records:", taxRecords);
        }

   
        function processTax() {
            let name = document.getElementById("name").value;
            let pan = document.getElementById("pan").value.toUpperCase();
            let income = parseFloat(document.getElementById("income").value);


            calculateTax(name, pan, income, function(n, p, i, t) {
                logToConsole(n, p, i, t);
                displayOnPage(n, p, i, t);
                saveToRecords(n, p, i, t);
            });
        }
    </script>
</body>
</html>